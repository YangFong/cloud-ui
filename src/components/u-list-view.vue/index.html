<div :class="$style.root" :readonly="readonly" :disabled="disabled"
    :tabindex="readonly || disabled ? '' : 0"
    @keydown.prevent.up="shift(-1)"
    @keydown.prevent.down="shift(+1)">
    <div v-show="showHead" :class="$style.head">
        <slot name="head">
            <span :class="$style.title">{{ title }}</span>
            <div :class="$style.extra">
                <span v-if="multiple">{{ selectedVMs.length }} / {{ currentDataSource && currentDataSource.total }}</span>
            </div>
        </slot>
    </div>
    <u-input v-if="filterable" :class="$style.filter" :readonly="readonly" :disabled="disabled" :placeholder="placeholder" size="small" suffix="search"
        :value="filterText" @input="onInput">
    </u-input>
    <div :class="$style.body" @scroll.stop="onScroll">
        <slot></slot>
        <div ref="virtual" v-if="currentData" :style="{ paddingTop: virtualTop + 'px', paddingBottom: virtualBottom + 'px' }">
            <component :is="ChildComponent"
                v-for="item in virtualList"
                :key="item[valueField]"
                :value="item[valueField]"
                :disabled="item.disabled || disabled"
                :item="item"
            >{{ item[field || textField] }}</component>
        </div>
        <div :class="$style.status" status="loading" v-if="loading">
            <slot name="loading"><u-spinner></u-spinner> {{ loadingText }}</slot>
        </div>
    </div>
    <div v-show="showFoot" :class="$style.foot">
        <slot name="foot"></slot>
    </div>
</div>
